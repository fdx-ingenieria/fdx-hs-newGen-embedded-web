(function(){"use strict";var e={8317:function(e,t,s){var n=s(9242),o=s(3396);function c(e,t,s,n,c,r){const a=(0,o.up)("CustomMenu"),i=(0,o.up)("router-view"),u=(0,o.up)("BContainer");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(a),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i)])),_:1})])}const r={class:"row"},a=(0,o._)("img",{src:"logo.svg",alt:"",height:"50px",style:{width:"50px",height:"50px"}},null,-1);function i(e,t,s,n,c,i){const u=(0,o.up)("BNavbarBrand"),l=(0,o.up)("connection"),d=(0,o.up)("BNavbar");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(d,{toggleable:"sm",type:"light",variant:"light",style:{height:"60px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[a])),_:1}),(0,o.Wm)(l)])),_:1})])}var u=s(7139);function l(e,t,s,n,c,r){return(0,o.wg)(),(0,o.iD)("div",{class:(0,u.C_)({red:"Disconnected"===c.status,green:"Connected"===c.status})},(0,u.zw)(c.status),3)}var d=s(1020);const h=(0,d.Q_)({id:"websocket",state:()=>({socket:null,messageReceived:null,status:"Disconnected"}),actions:{connect(e){const t=new WebSocket(e);t.onopen=()=>{console.log("WebSocket connected"),this.$state.socket=t,this.$state.status="Connected"},t.onclose=()=>{console.log("WebSocket disconnected"),this.$state.socket=null,this.$state.status="Disconnected"},t.onerror=e=>{console.error("WebSocket error:",e),this.$state.socket=null,this.$state.status="Disconnected"},t.onmessage=e=>{console.log(e.data),this.$state.messageReceived=JSON.parse(e.data)}},getStatus(){return this.$state.status},close(){this.$state.socket&&(this.$state.socket.close(),this.$state.status="Disconnected")},send(e){this.$state.socket?this.$state.socket.send(JSON.stringify(e)):(console.error("WebSocket not connected"),this.$state.status="Disconnected")}}});var g=s(4870),f={name:"ConnectionComponent",data(){return{messageReceived:null,status:null,fileContent:null}},created(){this.loadConfigFile();const e=h();(0,g.iH)(null);this.timer=setInterval(this.connection,1e3),this.$watch((()=>e.messageReceived),(e=>{this.messageReceived=e}))},methods:{loadConfigFile(){const e="/conf.txt";fetch(e).then((e=>e.text())).then((e=>{this.fileContent=JSON.parse(e)})).catch((e=>{console.error("Error loading the conf.txt file:",e)}))},connection(){const e=h();switch(this.status=e.getStatus(),this.status){case"Disconnected":this.connectWebSocket();break;case"Connected":break;default:this.connectWebSocket();break}},connectWebSocket(){const e=this.fileContent.uri,t=h();t.connect(e)},sendMessage(){const e={key:"value"},t=h();t.send(e)}}},v=s(89);const m=(0,v.Z)(f,[["render",l],["__scopeId","data-v-62822714"]]);var p=m,w={components:{connection:p},name:"CustomMenu",data(){return{dropdownShow:!1}}};const b=(0,v.Z)(w,[["render",i]]);var k=b,_={components:{CustomMenu:k},data(){return{}}};const y=(0,v.Z)(_,[["render",c]]);var O=y,S=s(2483);const M={class:"row"},C=(0,o._)("p",null,null,-1),$={class:"col-6"},x={class:"col-6"},R={key:0,class:"message-container"},W={class:"row"},D={class:"col-6"},N={class:"row"};function J(e,t,s,c,r,a){return(0,o.wg)(),(0,o.iD)("span",null,[(0,o._)("div",M,[C,(0,o._)("div",$,[(0,o.Uk)(" send: "),(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.customMessage=e),placeholder:"Enter custom message",rows:"40",cols:"80"},null,512),[[n.nr,r.customMessage]])])]),(0,o._)("div",x,[(0,o.Uk)(" Received: "),r.messageReceived?((0,o.wg)(),(0,o.iD)("div",R,[(0,o._)("pre",null," "+(0,u.zw)(a.formattedMessage),1),(0,o._)("button",{onClick:t[1]||(t[1]=(...e)=>a.editMessage&&a.editMessage(...e))},"Edit & send")])):(0,o.kq)("",!0)])]),(0,o._)("div",W,[(0,o._)("div",D,[(0,o._)("button",{onClick:t[2]||(t[2]=(...e)=>a.sendMessage&&a.sendMessage(...e))},"Send Message")])]),(0,o._)("div",N,(0,u.zw)(r.error_msg),1)])}var j={name:"CustomMenu",data(){return{messageReceived:null,customMessage:"",error_msg:""}},computed:{formattedMessage(){if(this.messageReceived)try{return JSON.stringify(JSON.parse(this.messageReceived),null,2)}catch(e){return this.messageReceived}return""}},methods:{editMessage(){try{var e=JSON.stringify(this.messageReceived);this.customMessage=JSON.stringify(JSON.parse(e),null,2)}catch(t){this.customMessage=this.messageReceived}},sendMessage(){try{const e=this.customMessage,t=JSON.parse(e),s=h();s.send(t)}catch(e){console.error("Error parsing JSON:",e),this.error_msg=e}}},created(){const e=h();(0,g.iH)(null);this.$watch((()=>e.messageReceived),(e=>{this.messageReceived=e}))}};const B=(0,v.Z)(j,[["render",J]]);var E=B;const Z=[{path:"/",component:E}],q=(0,S.p7)({history:(0,S.PO)(),routes:Z});var z=q,F=s(1095);const H=(0,n.ri)(O),P=(0,d.WB)();H.use(F.qq),H.use(F.KH),H.use(z),H.use(P),H.mount("#app")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var c=t[n]={exports:{}};return e[n].call(c.exports,c,c.exports,s),c.exports}s.m=e,function(){var e=[];s.O=function(t,n,o,c){if(!n){var r=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],c=e[l][2];for(var a=!0,i=0;i<n.length;i++)(!1&c||r>=c)&&Object.keys(s.O).every((function(e){return s.O[e](n[i])}))?n.splice(i--,1):(a=!1,c<r&&(r=c));if(a){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}c=c||0;for(var l=e.length;l>0&&e[l-1][2]>c;l--)e[l]=e[l-1];e[l]=[n,o,c]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,c,r=n[0],a=n[1],i=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(i)var l=i(s)}for(t&&t(n);u<r.length;u++)c=r[u],s.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return s.O(l)},n=self["webpackChunkfdx_hs_cm2_web"]=self["webpackChunkfdx_hs_cm2_web"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(8317)}));n=s.O(n)})();
//# sourceMappingURL=app.5ccbc200.js.map