{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"p\", null, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"col-6\"\n};\nconst _hoisted_4 = {\n  class: \"col-6\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"message-container\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"col-6\"\n};\nconst _hoisted_8 = {\n  class: \"row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"span\", null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createTextVNode(\" send: \"), _createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.customMessage = $event),\n    placeholder: \"Enter custom message\",\n    rows: \"40\",\n    cols: \"80\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.customMessage]])])]), _createElementVNode(\"div\", _hoisted_4, [_createTextVNode(\" Received: \"), $data.messageReceived ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"pre\", null, \" \" + _toDisplayString($options.formattedMessage), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.sendMessage && $options.sendMessage(...args))\n  }, \"Send Message\")])]), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($data.error_msg), 1 /* TEXT */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","customMessage","$event","placeholder","rows","cols","_hoisted_4","messageReceived","_hoisted_5","_toDisplayString","$options","formattedMessage","_hoisted_6","_hoisted_7","onClick","_cache","args","sendMessage","_hoisted_8","error_msg"],"sources":["C:\\Users\\Jose\\Documents\\projects\\fdx-hs-newGen-embedded-web\\fdx-hs-newGen-embedded-web\\fdx-hs-cm2-web\\src\\views\\console_configView.vue"],"sourcesContent":["<template>\r\n  <span>\r\n    <div class=\"row\">\r\n      <p></p>\r\n      <div class=\"col-6\">\r\n        send:\r\n        <div>\r\n          <textarea v-model=\"customMessage\" placeholder=\"Enter custom message\" rows=\"40\" cols=\"80\"></textarea>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        Received:\r\n        <div v-if=\"messageReceived\" class=\"message-container\">\r\n          <pre> {{ formattedMessage }}</pre>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <button @click=\"sendMessage\">Send Message</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">  \r\n      {{ error_msg }}\r\n    </div>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { useWebSocketStore } from '@/store/websocket.js';\r\nimport { defineComponent, ref, watch } from 'vue';\r\n\r\nexport default {\r\n  name: 'CustomMenu',\r\n  data() {\r\n    return {\r\n      messageReceived: null,\r\n      customMessage: '',\r\n      error_msg: '',\r\n    };\r\n  },\r\n  computed: {\r\n    formattedMessage() {\r\n      if (this.messageReceived) {\r\n        try {\r\n          return JSON.stringify(JSON.parse(this.messageReceived), null, 2);\r\n        } catch (error) {\r\n          return this.messageReceived; // Display the original message if JSON parsing fails\r\n        }\r\n      }\r\n      return '';\r\n    },\r\n  },\r\n  methods: {\r\n    sendMessage() {\r\n      try {\r\n        const message = this.customMessage; // Use the customMessage property as the message\r\n        const parsedMessage = JSON.parse(message);\r\n        const websocketStore = useWebSocketStore();\r\n        websocketStore.send(parsedMessage);\r\n        //this.customMessage = ''; // Clear the input after sending the message\r\n      } catch (error) {\r\n        console.error('Error parsing JSON:', error);\r\n        this.error_msg = error;\r\n        // Handle the error as needed (e.g., display an error message, etc.)\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    const websocketStore = useWebSocketStore();\r\n    const messageReceived = ref(null);\r\n\r\n    this.$watch(() => websocketStore.messageReceived, (newMessage) => {\r\n      this.messageReceived = newMessage;\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n  textarea {\r\n    width:  100%; /* Set the desired width */\r\n    height: 400px; /* Set the desired height */\r\n  }\r\n\r\n  .message-container {\r\n    max-height: 400px; /* Set the maximum height for the container */\r\n    overflow-y: auto; /* Add a scrollbar when content exceeds the height */\r\n    padding: 8px; /* Add some padding to the container */\r\n    border: 1px solid #ccc; /* Optional: Add a border for better visual separation */\r\n    font-family: monospace; /* Optional: Use a monospace font for better code formatting */\r\n  }\r\n</style>\r\n"],"mappings":";;EAESA,KAAK,EAAC;AAAK;gCACdC,mBAAA,CAAO;;EACFD,KAAK,EAAC;AAAO;;EAMbA,KAAK,EAAC;AAAO;;;EAEYA,KAAK,EAAC;;;EAKjCA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAO;;EAIfA,KAAK,EAAC;AAAK;;uBArBlBE,mBAAA,CAwBO,eAvBLD,mBAAA,CAcM,OAdNE,UAcM,GAbJC,UAAO,EACPH,mBAAA,CAKM,OALNI,UAKM,G,iBALa,SAEjB,GAAAJ,mBAAA,CAEM,c,gBADJA,mBAAA,CAAoG;+DAAjFK,KAAA,CAAAC,aAAa,GAAAC,MAAA;IAAEC,WAAW,EAAC,sBAAsB;IAACC,IAAI,EAAC,IAAI;IAACC,IAAI,EAAC;iDAAjEL,KAAA,CAAAC,aAAa,E,OAGpCN,mBAAA,CAKM,OALNW,UAKM,G,iBALa,aAEjB,GAAWN,KAAA,CAAAO,eAAe,I,cAA1BX,mBAAA,CAEM,OAFNY,UAEM,GADJb,mBAAA,CAAkC,aAA7B,GAAC,GAAAc,gBAAA,CAAGC,QAAA,CAAAC,gBAAgB,iB,4CAI/BhB,mBAAA,CAIM,OAJNiB,UAIM,GAHJjB,mBAAA,CAEM,OAFNkB,UAEM,GADJlB,mBAAA,CAAkD;IAAzCmB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEN,QAAA,CAAAO,WAAA,IAAAP,QAAA,CAAAO,WAAA,IAAAD,IAAA,CAAW;KAAE,cAAY,E,KAG7CrB,mBAAA,CAEM,OAFNuB,UAEM,EAAAT,gBAAA,CADDT,KAAA,CAAAmB,SAAS,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}